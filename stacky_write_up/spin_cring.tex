%%%%%%%%%%%%%%%%%%%%%
%   AMS packages    %
%%%%%%%%%%%%%%%%%%%%%
\documentclass{amsart}

\usepackage{amsmath}
\usepackage{amsxtra}
\usepackage{amscd}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{eucal}
\usepackage[all]{xy}
\usepackage{graphicx}
\usepackage{tikz-cd}
\usepackage{mathrsfs}
\usepackage{subfiles}
\usepackage{mathpazo}
\usepackage{euler}
\usepackage{hyperref}
\usepackage{color}

\usepackage[colorinlistoftodos, textsize=tiny]{todonotes}
\def\listtodoname{List of Todos}
\def\listoftodos{\@starttoc{tdo}\listtodoname}

%\addtolength{\oddsidemargin}{-.5 in}
	%\addtolength{\evensidemargin}{-.4 in}
	%\addtolength{\textwidth}{1 in}
%
	%\addtolength{\topmargin}{0 in}
	%\addtolength{\textheight}{0 in}

\RequirePackage{color}
\definecolor{myred}{rgb}{0.75,0,0}
\definecolor{mygreen}{rgb}{0,0.5,0}
\definecolor{myblue}{rgb}{0,0,0.65}

\usepackage{hyperref}
  \hypersetup{colorlinks=true,citecolor=blue}

\usepackage{tikz}
\usetikzlibrary{matrix,arrows,decorations.pathmorphing}

%%%%%%%%%%%%%%%%%%%%%%% amsthm theorem styles %%%%%%%%
%%%%%%%%%%%%%%%

\theoremstyle{plain}
  \newtheorem{thm}{Theorem}[section]
  \newtheorem{prop}[thm]{Proposition}
  \newtheorem{lem}[thm]{Lemma}
  \newtheorem{cor}[thm]{Corollary}
	\newtheorem{claim}[thm]{Claim}
	\newtheorem{question}[thm]{Question}
	
\theoremstyle{definition}
  \newtheorem{defn}[thm]{Definition}
  \newtheorem{example}[thm]{Example}
  \newtheorem{exer}[thm]{Exercise}
  \newtheorem{ctexample}[thm]{Counterexample}
  \newtheorem{convention}[thm]{Convention}
	\newtheorem{conjecture}[thm]{Conjecture}
	
\theoremstyle{remark}
	\newtheorem{rem}[thm]{Remark}
  \newtheorem{note}[thm]{Notation}
  \newtheorem*{note*}{Notation}
  \newtheorem{case}{Case}
	
\numberwithin{equation}{section}

%%%%%%%%%%%%%%%%%%%%%%%%% custom commands %%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand\nc{\newcommand}
\nc\on{\operatorname}
\nc\renc{\renewcommand}
\newcommand\ssec{\subsection}
\newcommand\sssec{\subsubsection}
\newcommand\bO{{\mathbf O}}
\newcommand\CC{{\mathcal C}}
\newcommand\BN{{\mathbb N}}
\newcommand\BC{{\mathbb C}}
\newcommand\BF{{\mathbb F}}
\newcommand\BR{{\mathbb R}}
\newcommand\BQ{{\mathbb Q}}
\newcommand\BP{{\mathbb P}}
\newcommand\BBZ{{\mathbb Z}}
\newcommand\uR{\underline{R}}
\newcommand\uZ{\underline{\BBZ}}
\newcommand\CF{{\mathcal F}}
\newcommand\uCF{\underline{{\mathcal F}}}
\newcommand\BZ{{\mathbb Z}}
\newcommand\BA{{\mathbb A}}
\newcommand\fa{{\mathfrak a}}
\newcommand\fp{{\mathfrak p}}
\newcommand\fq{{\mathfrak q}}
\newcommand\fm{{\mathfrak m}}
\newcommand\so{{\mathscr O}}
\newcommand\sg{{\mathscr G}}
\newcommand \sx{\mathscr X}

\newcommand\scm{{\mathscr M}}
\newcommand\scn{{\mathscr N}}
\newcommand\scf{{\mathscr F}}
\newcommand\scg{{\mathscr G}}
\newcommand\sco{{\mathscr O}}
\newcommand\sch{{\mathscr H}}
\newcommand\scl{{\mathscr L}}
\newcommand\sci{{\mathscr I}}

\newcommand{\id}{\mathrm{id}}
\newcommand\im{\text{im }}
\newcommand\coker{\text{coker}}
\newcommand \spec{\text{Spec }}
\newcommand \proj{\text{Proj }}
\newcommand \rspec{\textit{Spec }}
\newcommand \rproj{\textit{Proj }}
\newcommand{\gal}{\mathrm{Gal}}

\newcommand \trdeg{\text{tr. deg }}
\newcommand \codim{\text{codim}}
\newcommand \rk{\text{rk }}
\newcommand \di{\text{div }}
\newcommand \depth{\text{depth }}
\DeclareMathOperator{\ord}{ord}

%%%%%%%%%%%%%%%%%%%%% cring custom commands %%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand \subhalf[1]{\frac{{#1} - 1}{2{#1}}}
\newcommand{\se}[1]{\section*{Problem #1}}
\newcommand \halfcan{L}
\newcommand \Supp{\text{Supp}}
\newcommand \initial{\text{in}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% title %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\title{Spin canonical divisors of log stacky curves}

\author{Aaron Landesman}
\address[Aaron Landesman]{Department of Mathematics, Harvard University}
\email{aaronlandesman@college.harvard.edu}

\author{Peter Ruhm}
\address[Peter Ruhm]{Department of Mathematics, Stanford University}
\email{pruhm@stanford.edu}

\author{Robin Zhang}
\address[Robin Zhang]{Department of Mathematics, Stanford University}
\email{robinz16@stanford.edu}

\date{\today}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% document %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

\begin{abstract}
  Arithmetic geometry group at the Emory University Number Theory
	REU.
\end{abstract}

\maketitle

\tableofcontents

\section{Introduction}
\todo{Edit this stuff}
This is our project.
Example, stuff from Voight and Zureick-Brown \cite{vzb:stacky}
and O'Dorney's paper \cite{dorney:canonical}.
We consider divisors of the form $D = \sum_{i = 1}^{r} \subhalf{e_i}$.

\subsection{Main Results}
These are our results.
\begin{thm}
\label{thm:g_0_generators_relations}
Let $(\sx,\Delta, L)$ be a tame log spin curve over a perfect field $k$, so
that $\sx$ has signature $\sigma = (0;e_1,\ldots, e_r;\delta)$. Then the
canonical ring

\begin{align*}
	R(\sx, \Delta, L) = \bigoplus_{d=0}^\infty H^0(\sx,\sco(L)^{\otimes d})
\end{align*}

\noindent
is generated as a $k$-algebra by elements of degree at most $e = 
\max(5,e_1,\ldots, e_r)$ with relations in degree at most $2e$, so 
long as $\sigma$ does not lie in a finite list of exceptions. \todo{
Include reference to the table with this list of exceptions.}
\end{thm}
\begin{proof}

\end{proof}


\section{Background}
\todo{edit this}
Here are some definitions.
Look at Spencer-Kodaira \cite{kodaira:complex-manifolds}.

\section{Effective Genus Zero Spin Divisors}
\label{sec:g_0_effective}
In this section, we examine the case $2\halfcan\sim K_\sx+\Delta$ 
when $\Delta$ is a non- zero effective divisor.  Using this, we can 
reduce to looking at effective stacky divisors.  Then, applying a 
result for general effective $\mathbf{Q}$ divisors, we deduce that $
R_{\halfcan}$ is generated in degrees up to $e=\max{e_i}$ with 
relations generated up to degree $2e$ with initial terms quadratic 
in the generators.  We also demonstrate that these bounds are tight 
up to \todo{insert how tight they are}.

Then we find $2\halfcan=D+\sum \subhalf{i}P_i$ where $D\sim K_X+
\Delta\sim -2\infty+ \Delta$ is a divisor of $X$ (i.e. with 
possibly negative integer coefficients).  Since $\Delta$ is non-
zero effective, $\deg(D)\ge -1$.   Noting that the coefficient of 
any point $P$ occurring in a stacky divisor of $\sx$ must have 
coefficient lying in $\mathbf{Z}[\frac{1}{e_i}]$ (ranging over $e_i$
s appearing in the characteristic of $(\sx,\Delta)$).
 
Since all $e_i$s are odd, $2$ cannot appear in a denominator of the 
coefficient of a point $P$ in $\halfcan$, meaning that $\frac{D}{2}$
 must be a $X$-divisor.  Since $\deg(\frac{D}{2})=\frac{1}{2}\deg(D)
\ge -\frac{1}{2}$, we in fact have $\deg(D)\ge 0$.  Thus $\halfcan$ 
is linearly equivalent to an effective $X$ divisor plus $\sum 
\subhalf{i}P_i$.  We have now reduced to the case of $\halfcan$ 
linearly equivalent to an effective divisor.  The result in this 
specific case in fact generalizes to any $\mathbf{Q}$-divisor: $D=\sum
\frac{\alpha_i}{\beta_i} P_i$ for $\alpha_i,\beta_i\in \mathbf{N}$.  

We will prove this by induction using methods analogous to ones of VZB\todo{add reference}.  O'Dorney \todo{Insert reference to Theorem 4} provides a base case when $D\sim \frac{\alpha}{\beta} P$:
\begin{lem}\label{lem:O'Dorney_1_point}
Let 
\[
	0<\frac{c_1}{d_1}<\frac{c_2}{d_2}<...<\frac{c_r}{d_r}=\frac{\alpha}{\beta}
\] 
be the nonnegative best lower approximation\todo{define this above} of $\frac{\alpha}{\beta}$.  Then $R_D$ is generated up to degree $\beta$ by generators $y_1,...,y_r$ where $y_i$ lies in degree $d_i$ with pole of degree $c_i$ at $P$.  
\end{lem}
\begin{proof}
See O'Dorney \todo{provide reference}.
\end{proof}

The following lemma extends this as well as a lemma of VZB \todo{reference to lemma 8.3.1 in VZB} and provides a method to induct from this as well as many other base cases.

\begin{lem}\label{lem:deg_1_saturation_induction}
Let $X$ be a genus $g$ curve with a $\mathbf{Q}$-divisor $D$ (as defined by O'Dorney\todo{reference this-Section 1 of Evan's paper}) satisfying $\deg(\lfloor{D}\rfloor)\ge 0$, so $R_D$ has a generator $u$ in degree 1; let $u$.  Suppose $D$ is generated by $u,x_1,...,x_m$ in degree at most $\delta$ with relations generated in degree at most $\tau$.  Suppose $D'=D+\frac{\alpha}{\beta}P$ for some $P\not\in \Supp(D), \alpha,\beta\in \mathbf{N}$ such that 
\begin{equation}\label{lem:deg_1_saturation_induction_dimension_condition}
h^0(X,\lfloor{dD+d\frac{\alpha}{\beta}P\rfloor})=h^0(X,\lfloor dD\rfloor)+\lfloor d\frac{\alpha}{\beta}\rfloor \forall d\in \mathbf{N}:d\ge \frac{\beta}{\alpha}.
\end{equation}
Let 
\[
	0<\frac{c_1}{d_1}<...<\frac{c_n}{d_n}=\frac{\alpha}{\beta}
\]
be the nonnegative best lower approximation.
Then 
\begin{itemize}
\item $R_{D'}$ is generated over $R_D$ by elements $y_1,...,y_n$ such that $y_i$ lies in  degree $d_i$ and has a pole at $P$ of degree $c_i$
\item If $I$ and $I'$ are the ideal of relations of $R_D$ and $R_{D'}$ respectively, then 
\[
	\initial_\prec(I')=\initial_\prec(I) k[u,x_1,...,x_m,y_1,...,y_n]+\langle y_ix_j: 1\le i\le n, 1\le j\le m\rangle+\langle y_iy_j: 1\le i\le j\le n-1\rangle.
\]
\todo{See if we can additionally get the other information discussed in VZB theorem 8.3.1}
\end{itemize}
\end{lem}
\begin{proof}
Observe that $u_D,x_1,...,x_m$ each of which has no pole at $P$.  These can be chosen generically to not have a zero at $P$ \todo{check that we can actually do this, or eliminate if it turns out to be unnecessary}.

Begin by focusing on the $d^{th}$ component of $R_{D'}$: $(R_{D'})_d=H^0(X,\lfloor D+\frac{\alpha}{\beta}P\rfloor)$.  By our hypothesis (equation \ref{lem:deg_1_saturation_induction_dimension_condition}), for any $d\in\mathbf{N}$ such that $\lfloor d\frac{\alpha}{\beta}\rfloor>0$,
\[
	h^0(X,d(D+\frac{\alpha}{\beta}))=h^0(X,dD)+\deg(d\frac{\alpha}{\beta})
\]
so in $H^0(X,\lfloor dD'\rfloor)$ we can find elements with pole order $i$ at $P$ for any $i\in 0,...,\lfloor d\frac{\alpha}{\beta}\rfloor$.  We can use a method similar to O'Dorney to construct the $y_i$s as desired:

Let $0<\frac{c_1}{d_1}<...<\frac{c_n}{d_n}=\frac{\alpha}{\beta}$ be the nonnegative best lower approximation of $\frac{\alpha}{\beta}$.  Note that elements of $H^0(X,dD')$ have pole of orders ranging from 0 to $\lfloor d_i\frac{\alpha}{\beta}\rfloor=c_i$ at $P$.  For any $j<i$, $\frac{c_i}{d_i}>\frac{c_j}{d_j}$ by construction, so any product of $\prod z_i$ of elements of degrees less than $d_i$ must have $\frac{-\ord(z_i)}{\deg(z_i)}<\frac{c_i}{d_i}$, so we have the pole order of this product is $\sum -\ord(z_i)=d_i(\frac{\sum -\ord( z_i)}{\sum \deg( z_i)})<d_i\frac{c_i}{d_i}=c_i$.  Thus, the elements of $R_{d_i}$

 in fact a generic element in the respective degree will suffice.\todo{add proof of this; is the generic statement correct?}  Following O'Dorney's argument correctly gives that these along with $u$ (in degree 1 with 0 pole at $P$) generate a $\lfloor d\frac{\alpha}{\beta}\rfloor+1$ dimension $k$-vector space inside of $(R_{D'})_d$ with a $\lfloor d\frac{\alpha}{\beta}\rfloor$ dimensional subspace consisting of elements only with nonzero pole at $P$.  Therefore, by pole considerations $y_1,...,y_n$ generate $(R_{D'})_d$ over $(R_{D})_d$, \todo{the word generate here is a little imprecise} so $u,x_1,...,x_m,y_1,...,y_n$ generate $R_{D'}$.







\end{proof}



\section{Non-effective Genus Zero Spin Divisors}
\label{sec:g_0_non_effective}

In this section, we will prove that if $(\sx , 0, L)$ is a spin curve,
so that $\sx$ has signature $\sigma = (0; e_1, \ldots , e_r; 0)$, then
$R(\sx , 0, L)$ is generated in degree at most $e := \max(5, e_1, \ldots,
e_r)$ with relations in degree at most $2e$, so long as $\sigma$ does
not lie in a finite list of exceptions. This is proven in
Subsection ~\ref{ssec:g_0_conclusion}. The proof is a rather
involved induction. In Subsections ~\ref{ssec:g_0_ram_pts},
~\ref{ssec:g_0_ram_orders} we prove inductive theorems, and in
Subsection ~\ref{ssec:g_0_base} we check the base cases of the
induction. Finally, in Subsection ~\ref{ssec:g_0_exceptional} we
list out the exceptional cases.

\ssec{Saturation}
\label{ssec:g_0_saturation}

\ssec{Inductive Theorem: Increasing the Number of Ramified Points}
\label{ssec:g_0_ram_pts}

\begin{lem}
\label{lem:minimal_quadratic}
Suppose $k[x_1,\ldots, x_n]$ is a graded ring, not necessarily
generated in degree 1, is equipped with a monomial ordering $\prec$.
 Let $\phi:k[x_1,\ldots, x_n] \rightarrow B$ be a map of graded
rings with kernel $I,$ such that $I$ is generated by elements $f_1,
\ldots, f_j$, where $in_\prec(f_i) = x_ix_j,$ and no term of $f_i$
is of the form $x_k$. Then, the elements $f_i$ determine minimal
generators for $I$.
\end{lem}

\begin{proof}
Regrade the ring $k[x_1, \ldots, x_n]$ so that all $x_i$ lie in
degree 1. Then,
\[
	\phi : k[x_1, \ldots, x_n] \rightarrow B
\]

\noindent
determines a map of rings, no longer necessarily graded. Consider
the grlex monomial ordering $<$ on $k[x_1, \ldots, x_n]$.
\todo{This ordering isn't quite right. 
We need to preserve the ordering on quadratic terms}
By
assumption, the kernel $I$ is generated by elements whose initial
terms have degree 2 and are all distinct. Therefore, $\dim_k (k[x_1,
\ldots, x_n])_2 = \binom{n}{2}-j.$ This implies any set of
generators for $I$ must have at least $j$ elements. Since $f_1,
\ldots, f_j$ is such a set, it is minimal.
\end{proof}

\begin{prop}
\label{prop:sat_three_induction}
Let $\sx \rightarrow \sx'$ be a birational map of tame, separably
rooted  log stacky curves $R \subset R'$ be the corresponding
inclusion of canonical rings. Let $R_{D'} = R' = k[x]/I'= k[x_3, x_4
, x_5,\ldots, x_m]/I'$ satisfy $sat(Eff(D')) = 3.$ Let $D = \frac{1}{
3}P$.

\begin{enumerate}
	\item[(a)] General elements  $y_i \in H^0(\sx,iL)$ for $i \in \{3,
		4,5\}$ satisfy $-\ord_P(y_i) = 1$ and any such choice of elements $y
		_3,y_4,$ and$ y_5$ minimally generate $R$ over $R'$.
	\item[(b)] Equip $k[y_3,y_4,y_5]$ with $grlex$ so that $y_3 \prec 
		y_4 \prec y_5$ 
		\todo{This order isn't quite right, we need $y_4^2 < y_5y_3$.}
		and equip the ring $k[y_3,y_4,y_5,x]$ with the block 
		order so that $R = k[y_3,y_4,y_5,x]/I$. Let,
		\begin{align*}
			J &= gin_\prec(I')k[x,y_3,y_4,y_5] \\
			&+\langle y_i x_j \mid 4 \leq i \leq 5, 3 \leq j \leq m\rangle \\
			&+\langle y_iy_k \mid 4 \leq i \leq j \leq 5.\rangle 
		\end{align*}
			Then, $gin_\prec(I) = J$.
	\item[(c)] Any set of minimal generators for $I'$ together with 
		any set of relations with leading terms as in (b) minimally 
		generate $I$.
\end{enumerate}
\end{prop}

\begin{proof}
First, the elements $y_3,y_4,$ and $y_5$ are general and have $-\ord
_P(y_i) = 1$ by Riemann Roch. \todo{Understand why/whether we need 
to cite lemma 5.4.7.} To complete the proof of (a) we only need 
show these elements generate $R$ over $R'$. We can first see that 
the following is a $k$ basis for $R$ over $R'$:

\begin{align}
\label{eqn:add_one_generator}
	\begin{split}
		&\langle y_3^ax_3^b x_4^\epsilon x_5^{\epsilon'} \mid a \geq 0, b 
		\geq 0,(\epsilon,\epsilon') \in \{(0,0),(0,1),(1,0)\} \rangle \\
		&+\langle y_3^ay_4,y_3^by_5 \mid a \geq 0, b \geq 0 \rangle
	\end{split}
\end{align}

\noindent
To see these generate $R'$ over $R$, note that $\dim R'_d - \dim_k R
_d = \lfloor \frac{d}{3} \rfloor,$ by Riemann--Roch. So, it
suffices to show that we have precisely $\lfloor \frac{d}{3} \rfloor
,$ elements of degree $d$ in the claimed basis of
~\ref{eqn:add_one_generator}. Indeed, letting $a = \lfloor \frac{d}{3}
\rfloor $ and $b = d \bmod 3$, we have that the elements

\begin{align*}
	x_3^{a-1}x_{3+b},y_3x_3^{a-2}x_{3+b},\ldots, y_3^ax_{3+b},y_3^ay_{
3+b}
\end{align*}

\noindent
are precisely $a$ elements, which are all independent as they have
distinct pole orders at $P$. This completes part (a).

To show part (b), note that the generators in
~\ref{eqn:add_one_generator} are precisely a set of monomials which
generate $k[x,y]/J$ over $k$. So, to show $J = in_\prec(I)$, it
suffices to show that all generators of $J$ lie in $in_\prec(I)$.

This follows, since there exist constants $A_{i,j} \in k$ for $4
\leq i \leq 5,3 \leq j \leq m,$ elements $B_1,B_2,B_3 \in k$ and
elements $w_{i,j} \in R'$ so that the following linear combinations
of elements lie in $R'$.

\begin{align*}
	y_ix_j &- A_{i,j} y_{i-1}w_j & \text{ so that } 4 \leq i \leq 5,3
	\leq j \leq m \text{ and } \deg w_j = \deg x_j + 1\\
	y_4^2 &+ B_1 y_3 y_5 \\
	y_4y_5 &+ B_2 y_3^2 x_3 \\
	y_5^2 &+ B_3 y_3^2 x_4
\end{align*}

\noindent
Of course, the initial terms of these elements are precisely the
generators of $J$, completing (b).

Finally, (c) follows immediately from Lemma ~\ref{lem:minimal_quadratic}
\end{proof}

\todo{Something is a little fishy with this order, it seems
something like: first grade by degree, then try to decrease the
highest y, if you cant, try to decrease the highest z, possibly
replace $z_5$ by $z_5+Cy_5$ to generic element?}


\ssec{Inductive theorem: Increasing the Ramification Orders}
\label{ssec:g_0_ram_orders}
In this section, we aim to prove the inductive theorem, Theorem
~\ref{thm:ramification_order_induction}. Under fairly general
conditions, this theorem will allow us to show that if Theorem ~\ref
{thm:ramification_order_induction} holds for a curve with signature
$(0;e_1',\ldots, e_r';0)$ then it also holds for a curve with
signature $(0;e_1,\ldots, e_r;0)$ with $e_i' - e_i \in \{0,2\}$.

\begin{defn}
\label{defn:admissible}
Let $(\sx', 0, L'),(\sx, 0, L)$ be tame, 
separably rooted log stacky spin
curves, both ramified over ramified at $Q_1,\ldots, Q_r$. Suppose
there is a birational map $\sx \rightarrow \sx'$, and let $J \subset
\{1, \ldots, r\}$. Suppose $e_i'+ 2\chi_J(i) = e_i$ where

$$\chi_J(i) = \begin{cases}
	1, &\text{ if }i \in J\\
	0, &\text{ otherwise. } 
\end{cases}$$

Let $R'$ be the canonical ring associated to $\sx'$. Say $(\sx',J)$,
{\bf admissible} if the following three conditions hold.

\begin{enumerate}
	\item[(Ad-i)] Suppose for all $i \in J$, there exists $y_{i,e_i'} 
		\in R'$ so that $R'$ admits a presentation
		\begin{align*}
			R' \cong \left( k[x] \otimes k[y_{i,e_i'}]_{i \in J} \right)/I'
		\end{align*}
		so that for all $i \in J$ we have $\deg y_{e_i'} = e_i'$ and $-ord_{
		Q_i}(y_{i,e_i'}) = \frac{e_i'-1}{2}$.
	\item[(Ad-ii)] For all $i \in J$, any generator $z \neq y_{i,e_i'}$
		of $R'$ satisfies
		\begin{align*}
			\frac{- ord_{Q_i}(z)}{\deg z} < \subhalf {e_i'}.
		\end{align*}
	\item[(Ad-iii)] For all $i \in J$ we have for all $d \geq 0$,
		\begin{align*}
			\deg \lfloor e_i L \rfloor \geq \# S(i,d)
		\end{align*}
		where
		\begin{align*}
			S(i,d) = \{j \in J : j \neq i \text{ and }e_j'+2d \mid e_i+2d\}
		\end{align*}
\end{enumerate}
\end{defn}

\begin{lem}
\label{lem:admissible_inequality}
Condition (Ad-ii) of Definition ~\ref{defn:admissible} implies the
stronger condition that

\begin{align*}
	-\ord_{Q_i}(z) \leq \deg(z) \subhalf{e_i'}-\frac{1}{e_i'}
\end{align*}
\end{lem}

\begin{proof}
We know by (Ad-ii) that

\begin{align*}
	-\ord_{Q_i}(z) < \deg(z) \subhalf{e_i'}
\end{align*}

\noindent
If we write $\frac{\alpha}{\beta} = \deg(z) \frac{e_i'-1}{2e_i'}$ 
as a fraction in lowest terms, then we see $\beta \mid e_i'$ since $
e_i'-1$ is even. Therefore, since $-\ord_{Q_i}(z)$ is an integer, 
we must have

\begin{align*}
	-\ord_{Q_i}(z) \leq \deg(z) \subhalf{e_i'}- \frac{1}{\beta} \leq 
	\deg(z) \subhalf{e_i'}- \frac{1}{e_i'}.
\end{align*}
\end{proof}

\begin{thm}
\label{thm:ramification_order_induction}
Suppose $(\sx', 0, L')$ is a tame separably rooted log stacky spin
curve is admissible with a generators $y_{i,e_i'} \in R' = R_{L'}$
as in (Ad-i) of Definition ~\ref{defn:admissible}. Then the
following are true:
\begin{enumerate}
	\item[(a)] For all $i \in J$, there exists $y_{i,e_i} \in
		H^0(\sx, e_i(K_\sx))$ so that
		\begin{align*}
			-ord_{Q_i}(y_{i,e_i}) = \frac{e_i-1}{2}
		\end{align*}
		and
		\begin{align*}
			\frac{-\ord_{Q_j}(y_{i,e_i'})}{y_{i,e_i}} \leq \subhalf{e_j'}-
			\frac{1}{\deg(y_{i,e_i'})e_j'}
		\end{align*}
		for all $j \in J$ with $j \neq i$.
	\item[(b)] The elements $y_{i,e_i'}^ay_{i,e_i}^b,$ with $a \geq 0,
		b > 0$ span $R$ over $R'$ and the elements $y_{i,e_i}$ minimally
		generate $R$ over $R'$.
	\item[(c)] Equip $k[y] = k[y_{i,e_i}]_{i \in J}$ and $k[x]$ with
		any graded monomial order and $k[y,x] = k[y] \otimes k[x]$ with
		block order. Let $R = k[y,x]/I.$ Then,
		\begin{align*}
			in_\prec(I) = in_\prec(I')k[x,y] + \langle y_{i,e_i}z \mid z \neq
			y_{i,e_i},y_{i,e_i'} \rangle
		\end{align*}
		as $z$ ranges over all generators of $R$.
	\item[(d)] Suppose $in_\prec(I')$ is minimally generated by
		products of two monomials and that for all $i \in J$, we have $e_i >
		\deg z$ for any generator $z$ of $R'.$ Then any set of minimal
		generators for $I'$ together with any set of relations as in part (c)
		minimally generate $I$.
	\item[(e)] For any $W \subset J,$ the set $(\sx,W)$ is admissible.
\end{enumerate}
\end{thm}

\begin{proof}
Let $(\sx, 0, L)$ and $(\sx', 0, L')$ be the two log stacky spin curves in 
question, with coarse spaces $X = X'$. 
\todo{possibly generalize these to arbitrary log stacky $\Delta \neq 0$ spin curves}
Define

\begin{align*}
	S(i,0) = \{j \in J : j \neq i \text{ and }e_j' \mid e_i\}
\end{align*}

\noindent
Define
\begin{align*}
	E_i = \sum_{j \in S(i,0)}^{}Q_j
\end{align*}

\noindent
Note that
\begin{align*}
	\lfloor e_i L' \rfloor + Q_i \leq \lfloor e_i L \rfloor 
\end{align*}

\noindent
and so we obtain an inclusion
\begin{align*}
	H^0(\sx',e_iL'-E_i + Q_j) \rightarrow H^0(\sx,e_iL - E_i) \subset 
H^0(\sx,e_iL).
\end{align*}

\noindent
The assumption (Ad-iii) implies
\begin{align*}
	\deg \left( e_i L' - E_i \right) \geq 0
\end{align*}

\noindent
implying that $H^0(\sx',e_iL'-E_i + Q_i)$ is base point free by 
Riemann Roch, and so a general element
\begin{align*}
	y_{i,e_i} \in H^0(\sx',e_iL'-E_i + Q_i)
\end{align*}

\noindent
satisfies
\begin{align*}
	-\ord_{Q_i}(y_{i,e_i}) = \lfloor e_i \subhalf {e_i'} \rfloor +1 =
	\frac{e_i - 1}{2}
\end{align*}

\noindent
Therefore, $y_{i,e_i}$ satisfies the first part of the claim of $(a)$.

We next show $y_{i,e_i}$ also satisfies the second part of the
claim of $(a),$ by considering separately the cases of whether $j
\in S(i,0),$ and $j \notin S(i,0)$.

If $j \in S(i,0)$ then, since $E_i \geq Q_j$, and $y_{i,e_i} \in H^0
(\sx',e_iL'-E_i + Q_i)$,
\begin{align*}
	-\ord_{Q_j}(y_{i,e_i}) \leq e_i\subhalf {e_j'} - 1 \leq e_i 
	\subhalf{e_j'} - \frac{1}{e_j'}.
\end{align*}

If instead $j \notin S(i,0)$, then since $e_j' \nmid e_i$, we know
$e_i\subhalf{e_j'} \notin \BZ$, so
\begin{align*}
	-\ord_{Q_j}(y_{i,e_i}) \leq \lfloor  e_i\subhalf{e_j'} \rfloor 
	\leq e_i\subhalf{e_j'} - \frac{1}{e_j'},
\end{align*}

\noindent
completing the proof of (a).

Next, define $R_0 = R'$ and inductively define 
$$R_i = \begin{cases}
	R_{i-1} &\text{ if }i \notin J\\
	R_{i-1}[y_{i,e_i}] &\text{ otherwise.} 
\end{cases}$$

\noindent
To prove (b), it suffices to show that elements of the form $y_{i,e_
i'}^ay_{i,e_i}^b$ with $a \geq 0, b > 0$ are linearly independent,
and that these elements together with $R_{i-1}$ span $R_i$ as a $k$-
vector space. These elements do not lie in $R_{i-1}$ because their
order of pole at $Q_i$ is bigger than the order of any element in $R
_{i-1}$, and are linearly independent amongst themselves because of
injectivity of the linear map

\begin{align*}
	(a,b) \mapsto \left( \deg\left(y_{i,e_i'}^ay_{i,e_i}^b\right),-
	\ord_{Q_i}\left( y_{i,e_i'}^ay_{i,e_i}^b \right)  \right) = (a,b) 
	\begin{pmatrix}
		e_i-2 & \frac{e_i-3}{2} \\
		e_i	 & \frac{e_i-1}{2}
	\end{pmatrix} 
\end{align*}

\noindent
The fact the the elements $y_{i,e_i'}^ay_{i,e_i}^b$ with $a \geq 0,
b > 0$ span $R_i$ over $R{i-1}$ follows from the fact that the
integer lattice points in the cone generated by the vectors $\left(e
_i-2, \frac{e_i-3}{2} \right)$ and $\left(e_i, \frac{e_i-1}{2}
\right)$ is saturated, as the corresponding determinant is
\begin{align*}
	(e_i-2) \frac{e_i-1}{2} - e_i \frac{e_i-3}{2} = 1,
\end{align*}
completing part (b).

To show (c), we wish to show $y_{i,e_i}z \in R'$ for $z \neq y_{i,e_
i},y_{i,e_i'}$. Note that $f\in R$ lies in $R'$ if and only if for
all $j \in J$ we have
\begin{align*}
	-\ord_{Q_j}(f) \leq \deg f \left( \subhalf {e_j'} \right) 
\end{align*}

\noindent
We now check this in three cases, depending on whether $j \notin \{
i \} \cup S(i,0),j = i,$ or $j \in S(i,0)$.

\vskip.1in
\noindent
{\sf Case 1: $j \notin \{i \} \cup S(i,0).$}

Here, $-\ord_{Q_j}(L) = -\ord_{Q_j}(L'),$ so
\begin{align*}
	-\ord_{Q_j}(y_{i,e_i})-\ord_{Q_j}(z) \leq e_i \subhalf {e_j'} +
	\deg z \subhalf {e_j'} = \deg (y_{i,e_i}z) \subhalf{e_j'}. 
\end{align*}

\vskip.1in
\noindent
{\sf Case 2: $j =i.$}

By part (a), condition (Ad-ii), and Lemma
~\ref{lem:admissible_inequality} we have
\begin{align*}
	-\ord_{Q_j}(y_{i,e_i})-\ord_{Q_j}(z)
	&\leq \frac{e_i-1}{2} + \deg z \left( \subhalf{e_i'} \right) -\frac{1}{e_i'} \\
	& = \frac{e_i-1}{2}-\frac{1}{e_i'}+\left( \subhalf{e_i'} \right) \\
	&= \frac{e_i(e_i-3)}{2(e_i-2)}+\left( \subhalf{e_i'} \right) \\
	&= \deg (y_{i,e_i}z) \subhalf{e_j'}.
\end{align*}

\vskip.1in
\noindent
{\sf Case 3: $j \in S(i,0).$}
In this case, we similarly obtain
\begin{align*}
	-\ord_{Q_j}(y_{i,e_i})-\ord_{Q_j}(z) &\leq  e_i \subhalf{e_j'} +
	\deg z \subhalf{e_j'} = \deg (y_{i,e_i}z) \subhalf{e_j'}
\end{align*}
completing part (c).

Next, note that the minimal generators of $I'$ together with the
new generators of $I$ given in (c) have independent initial terms
by construction, and therefore are minimal by Lemma
~\ref{lem:minimal_quadratic}.

Finally, to check (e), we will first show that $(\sx,J)$ is
admissible. We know (Ad-i) is satisfied by part (b), taking the $y_{
i,e_i}$ as the generators in degree $e_i$. Next, (Ad-ii) is
strictly monotonic in the $e_i$, and hence also holds for $(\sx,J)$.
Finally, if (Ad-iii) holds for $e$ then it holds for $e+2$ by
definition. This is where we use that (Ad-iii) holds for $d > 0$
and not just for $d = 0$.

Finally, if $(\sx,J)$ then so is $(\sx,W)$ for any $W \subset J$,
since each of the conditions (Ad-i), (Ad-ii), and (Ad-iii) hold for
$W$ if they hold for $J$.
\end{proof}

\ssec{Base Cases}
\label{ssec:g_0_base}
Cases to induct on are here.

\ssec{Exceptional Cases}
\label{ssec:g_0_exceptional}
These are exceptional cases.

\ssec{Conclusion}
\label{ssec:g_0_conclusion}

\section{Genus positive}
We haven't done this.

\section{Acknowledgements}
We are grateful to VZB.

\nocite{*}
\bibliography{bibliography}{}
\bibliographystyle{plain}

\end{document}